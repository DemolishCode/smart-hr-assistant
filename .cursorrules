# Project Context
Project: Smart HR Assistant (Portfolio Project)
Description: An AI-powered HR platform featuring RAG-based policy Q&A, automated resume parsing, and interactive dashboards.

# Tech Stack
1. **Frontend (apps/web-portal):**
   - Framework: Next.js 14+ (App Router)
   - Language: TypeScript
   - UI Library: Shadcn UI, Tailwind CSS, Lucide Icons
   - State/Fetching: React Query (TanStack Query), Axios

2. **Backend & AI (apps/api-server):**
   - Framework: FastAPI (Python 3.11+)
   - Database ORM: SQLAlchemy 2.0 (Async) with Pydantic V2 schemas
   - Database: PostgreSQL (with pgvector extension)
   - AI/LLM: LangChain (Primary: Ollama/Local LLM, Secondary: OpenAI), LlamaIndex
   - Resume Parsing: PyPDF2 or LlamaParse

3. **Infrastructure:**
   - Docker & Docker Compose

# Coding Guidelines

## General Rules
- **Monorepo Awareness:** Always verify the current directory before running commands.
  - Run frontend commands in `apps/web-portal`.
  - Run backend commands in `apps/api-server`.
- **Secrets:** NEVER hardcode API Keys or Credentials. Always use environment variables (`.env`).
- **Comments:** Add docstrings (Python) and JSDoc (TS) for complex logic, explaining "Why" it was done, not just "What".

## Frontend (apps/web-portal)
- **Components:** Default to Server Components. Use 'use client' only when hooks (useState, useEffect) are needed.
- **Styling:** Use Tailwind CSS utility classes. Avoid inline styles.
- **Icons:** Use `lucide-react`.

## Backend (apps/api-server)
- **Architecture:** Follow "Service Layer Pattern":
  `Router (API endpoints)` -> `Service (Business Logic/AI)` -> `Repository/CRUD (DB Access)` -> `Database`.
- **Database:**
  - Use **UUID** for all primary keys.
  - Use `alembic` for migrations. DO NOT modify database schema manually without a migration file.
- **Async:** Use `async/await` for all I/O operations (DB, External APIs, LLM calls).
- **Type Safety:** Use strict Python type hints and Pydantic models for request/response validation.

# â›” Restricted Files (DO NOT EDIT without explicit permission)
- `docker-compose.yml` (unless adding a new service)
- `apps/web-portal/package.json` (unless installing new packages)
- `apps/api-server/pyproject.toml` or `requirements.txt` (unless adding dependencies)
- `.gitignore`
- `.cursorrules`